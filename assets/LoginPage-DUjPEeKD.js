import{_ as h,c,a,f as w,g as b,h as p,v as f,t as g,e as v,d as y,w as S,r as k,i as r,j as N,k as L,u as x,o as _}from"./index-EL8Fnbd9.js";const I={name:"LoginPage",setup(){const d=x(),e=r(!1),t=r(""),o=N({email:"",password:""}),i=r(""),l=r("");return L(()=>{i.value="email_"+Math.random().toString(36).substring(2,9),l.value="pass_"+Math.random().toString(36).substring(2,9)}),{form:o,loading:e,error:t,emailFieldName:i,passwordFieldName:l,handleLogin:async()=>{t.value="",e.value=!0;try{await new Promise(n=>setTimeout(n,1e3));const u=JSON.parse(localStorage.getItem("ticketapp_users")||"[]").find(n=>n.email===o.email&&n.password===o.password);u?(localStorage.setItem("ticketapp_session",JSON.stringify(u)),Object.assign(o,{email:"",password:""}),d.push("/dashboard")):t.value="Invalid email or password"}catch{t.value="Login failed. Please try again."}finally{e.value=!1}}}}},V={class:"auth-page"},M={class:"auth-container"},P={class:"auth-card"},B={class:"form-group"},E=["name"],F={class:"form-group"},C=["name"],D=["disabled"],O={key:0,class:"error-message"},T={class:"auth-footer"};function j(d,e,t,o,i,l){const m=k("router-link");return _(),c("div",V,[a("div",M,[a("div",P,[e[7]||(e[7]=a("div",{class:"auth-header"},[a("h1",null,"Welcome Back"),a("p",null,"Sign in to your account")],-1)),a("form",{onSubmit:e[2]||(e[2]=w((...s)=>o.handleLogin&&o.handleLogin(...s),["prevent"])),class:"auth-form",autocomplete:"off"},[a("div",B,[e[3]||(e[3]=a("label",null,"Email Address",-1)),p(a("input",{name:o.emailFieldName,type:"email","onUpdate:modelValue":e[0]||(e[0]=s=>o.form.email=s),placeholder:"Enter your email",required:"",autocomplete:"off"},null,8,E),[[f,o.form.email]])]),a("div",F,[e[4]||(e[4]=a("label",null,"Password",-1)),p(a("input",{name:o.passwordFieldName,type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>o.form.password=s),placeholder:"Enter your password",required:"",autocomplete:"off"},null,8,C),[[f,o.form.password]])]),a("button",{type:"submit",class:"btn btn-primary btn-full",disabled:o.loading},g(o.loading?"Signing In...":"Sign In"),9,D),o.error?(_(),c("div",O,g(o.error),1)):b("",!0)],32),a("div",T,[a("p",null,[e[6]||(e[6]=v(" Don't have an account? ",-1)),y(m,{to:"/signup",class:"auth-link"},{default:S(()=>[...e[5]||(e[5]=[v("Sign up here",-1)])]),_:1})])])])])])}const J=h(I,[["render",j],["__scopeId","data-v-e55e4d1b"]]);export{J as default};
